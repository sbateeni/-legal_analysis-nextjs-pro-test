# ๐ ุฏููู ูุธุงู SaaS ููููุงุชุจ ุงููุงููููุฉ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุญููู ุงูุชุทุจูู ุฅูู ูุธุงู SaaS ูุชูุงูู ููููุงุชุจ ุงููุงููููุฉุ ุญูุซ ูููู ููู ููุชุจ ุฅูุดุงุก ุญุณุงุจ ูุณุชูู ูุน ุฅุฏุงุฑุฉ ูุงููุฉ ูููุณุชุฎุฏููู ูุงููุถุงูุง ูุงูููุงูุจ.

## ๐๏ธ ุงูุจููุฉ ุงูุชูููุฉ

### ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **PostgreSQL** ูุน Supabase
- **Row Level Security (RLS)** ูุญูุงูุฉ ุงูุจูุงูุงุช
- **Multi-tenancy** - ูู ููุชุจ ูู ุจูุงูุงุช ูููุตูุฉ

### ุงููุงุฌูุงุช ุงูุฃูุงููุฉ
- **Next.js** ูุน TypeScript
- **Tailwind CSS** ููุชุตููู
- **Responsive Design** ูุฌููุน ุงูุฃุฌูุฒุฉ

## ๐๏ธ ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ

#### 1. `offices` - ุงูููุงุชุจ
```sql
- id: UUID (Primary Key)
- name: ุงุณู ุงูููุชุจ
- slug: ูุนุฑู ูุฑูุฏ ููููุชุจ
- description: ูุตู ุงูููุชุจ
- email: ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- subscription_plan: ุฎุทุฉ ุงูุงุดุชุฑุงู (free/professional/enterprise)
- max_users: ุงูุญุฏ ุงูุฃูุตู ูููุณุชุฎุฏููู
- is_active: ุญุงูุฉ ุงูุชูุนูู
- created_at: ุชุงุฑูุฎ ุงูุฅูุดุงุก
- updated_at: ุชุงุฑูุฎ ุงูุชุญุฏูุซ
```

#### 2. `users` - ุงููุณุชุฎุฏููู
```sql
- id: UUID (Primary Key)
- office_id: ูุนุฑู ุงูููุชุจ (Foreign Key)
- email: ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- full_name: ุงูุงุณู ุงููุงูู
- role: ุงูุฏูุฑ (admin/manager/user)
- is_active: ุญุงูุฉ ุงูุชูุนูู
- created_at: ุชุงุฑูุฎ ุงูุฅูุดุงุก
- updated_at: ุชุงุฑูุฎ ุงูุชุญุฏูุซ
```

#### 3. `legal_cases` - ุงููุถุงูุง ุงููุงููููุฉ
```sql
- id: UUID (Primary Key)
- office_id: ูุนุฑู ุงูููุชุจ (Foreign Key)
- name: ุงุณู ุงููุถูุฉ
- description: ูุตู ุงููุถูุฉ
- tags: ุงูุนูุงูุงุช
- user_id: ูุนุฑู ุงููุณุชุฎุฏู ุงููุณุคูู
- created_at: ุชุงุฑูุฎ ุงูุฅูุดุงุก
- updated_at: ุชุงุฑูุฎ ุงูุชุญุฏูุซ
```

#### 4. `legal_templates` - ุงูููุงูุจ ุงููุงููููุฉ
```sql
- id: UUID (Primary Key)
- office_id: ูุนุฑู ุงูููุชุจ (Foreign Key)
- name: ุงุณู ุงููุงูุจ
- content: ูุญุชูู ุงููุงูุจ
- category: ูุฆุฉ ุงููุงูุจ
- created_at: ุชุงุฑูุฎ ุงูุฅูุดุงุก
- updated_at: ุชุงุฑูุฎ ุงูุชุญุฏูุซ
```

## ๐ ูุธุงู ุงูุฃูุงู

### Row Level Security (RLS)
- ูู ููุชุจ ูุฑู ููุท ุจูุงูุงุชู
- ุงููุณุชุฎุฏููู ูุง ูููููู ุงููุตูู ูุจูุงูุงุช ููุงุชุจ ุฃุฎุฑู
- ุตูุงุญูุงุช ูุฎุชููุฉ ุญุณุจ ุงูุฏูุฑ

### ุงูุณูุงุณุงุช ุงูุฃูููุฉ
```sql
-- ุณูุงุณุฉ ุงูููุงุชุจ
CREATE POLICY "Users can view their own office" ON offices
FOR SELECT USING (auth.uid() IN (
  SELECT user_id FROM users WHERE office_id = id
));

-- ุณูุงุณุฉ ุงููุณุชุฎุฏููู
CREATE POLICY "Users can view office users" ON users
FOR SELECT USING (office_id IN (
  SELECT office_id FROM users WHERE user_id = auth.uid()
));

-- ุณูุงุณุฉ ุงููุถุงูุง
CREATE POLICY "Users can view office cases" ON legal_cases
FOR SELECT USING (office_id IN (
  SELECT office_id FROM users WHERE user_id = auth.uid()
));
```

## ๐ฅ ูุธุงู ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช

### 1. **Admin (ูุฏูุฑ)**
- ุฅุฏุงุฑุฉ ุงูููุชุจ ุจุงููุงูู
- ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู ุงููุณุชุฎุฏููู
- ุฅุฏุงุฑุฉ ุงูุงุดุชุฑุงูุงุช
- ุฅุนุฏุงุฏุงุช ุงูููุชุจ

### 2. **Manager (ูุดุฑู)**
- ุฅุฏุงุฑุฉ ุงููุถุงูุง ูุงูููุงูุจ
- ุฅุถุงูุฉ ูุณุชุฎุฏููู ุฌุฏุฏ
- ุชูุงุฑูุฑ ุงูููุชุจ
- ูุง ููููู ุญุฐู ุงููุณุชุฎุฏููู

### 3. **User (ูุณุชุฎุฏู)**
- ุฅูุดุงุก ูุฅุฏุงุฑุฉ ุงููุถุงูุง
- ุงุณุชุฎุฏุงู ุงูููุงูุจ
- ุนุฑุถ ุงูุชูุงุฑูุฑ
- ูุง ููููู ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุฅูุดุงุก ููุชุจ ุฌุฏูุฏ
1. ุงุฐูุจ ุฅูู `/register-office`
2. ุฃุฏุฎู ูุนูููุงุช ุงูููุชุจ
3. ุฃูุดุฆ ุญุณุงุจ ุงููุฏูุฑ
4. ุชู ุฅูุดุงุก ุงูููุชุจ ุจูุฌุงุญ

### 2. ุชุณุฌูู ุงูุฏุฎูู
1. ุงุฐูุจ ุฅูู `/login`
2. ุฃุฏุฎู ุจุฑูุฏู ุงูุฅููุชุฑููู ููููุฉ ุงููุฑูุฑ
3. ุชู ุชุณุฌูู ุงูุฏุฎูู ุจูุฌุงุญ

### 3. ููุญุฉ ุงูุชุญูู
1. ุงุฐูุจ ุฅูู `/dashboard`
2. ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช ูุงููุถุงูุง ุงูุฃุฎูุฑุฉ
3. ุงููุตูู ูุฌููุน ุงูููุฒุงุช

### 4. ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
1. ุงุฐูุจ ุฅูู `/manage-users`
2. ุฅุถุงูุฉ ูุณุชุฎุฏููู ุฌุฏุฏ
3. ุชุนุฏูู ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช
4. ุฅูุบุงุก ุชูุนูู ุงููุณุชุฎุฏููู

### 5. ุฅูุดุงุก ูุถูุฉ ุฌุฏูุฏุฉ
1. ุงุฐูุจ ุฅูู `/new-case`
2. ุฃุฏุฎู ุชูุงุตูู ุงููุถูุฉ
3. ุฃุถู ุงูุนูุงูุงุช
4. ุงุญูุธ ุงููุถูุฉ

## ๐ง ุงููููุงุช ุงูุฑุฆูุณูุฉ

### ุงูุตูุญุงุช
- `/register-office` - ุฅูุดุงุก ููุชุจ ุฌุฏูุฏ
- `/login` - ุชุณุฌูู ุงูุฏุฎูู
- `/dashboard` - ููุญุฉ ุงูุชุญูู
- `/manage-users` - ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
- `/new-case` - ุฅูุดุงุก ูุถูุฉ ุฌุฏูุฏุฉ

### ุงูุฎุฏูุงุช
- `utils/saas-service.ts` - ุฎุฏูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
- `types/saas.ts` - ุฃููุงุน TypeScript
- `utils/supabase-config.ts` - ุฅุนุฏุงุฏุงุช Supabase

### ูุงุนุฏุฉ ุงูุจูุงูุงุช
- `saas-schema.sql` - ูุฎุทุท ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุงูู

## ๐ฑ ุงูููุฒุงุช ุงููุชุงุญุฉ

### โ ููุชูู
- [x] ุฅูุดุงุก ููุชุจ ุฌุฏูุฏ
- [x] ูุธุงู ุชุณุฌูู ุงูุฏุฎูู
- [x] ููุญุฉ ุงูุชุญูู
- [x] ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
- [x] ุฅูุดุงุก ูุถุงูุง ุฌุฏูุฏุฉ
- [x] ูุธุงู ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช
- [x] ุญูุงูุฉ ุงูุจูุงูุงุช (RLS)
- [x] ูุงุฌูุฉ ูุณุชุฎุฏู ูุชุฌุงูุจุฉ

### ๐ง ููุฏ ุงูุชุทููุฑ
- [ ] ูุธุงู ุงูุฏูุน ูุงูุงุดุชุฑุงูุงุช
- [ ] ุงูุชูุงุฑูุฑ ุงููุชูุฏูุฉ
- [ ] ูุธุงู ุงูุฅุดุนุงุฑุงุช
- [ ] API ููุชูุงูู
- [ ] ูุธุงู ุงููุณุฎ ุงูุงุญุชูุงุทู

## ๐๏ธ ุงูุชุทููุฑ ุงููุญูู

### ุงููุชุทูุจุงุช
- Node.js 16+
- npm ุฃู yarn
- ุญุณุงุจ Supabase

### ุงูุชุซุจูุช
```bash
cd frontend
npm install
```

### ูุชุบูุฑุงุช ุงูุจูุฆุฉ
ุฃูุดุฆ ููู `.env.local`:
```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
```

### ุชุดุบูู ุงูุชุทุจูู
```bash
npm run dev
```

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ ุงูุงุชุตุงู
1. ุงุฐูุจ ุฅูู `/test-connection`
2. ุชุญูู ูู ุญุงูุฉ ุงูุงุชุตุงู
3. ุงุฎุชุจุฑ ุงูุนูููุงุช ุงูุฃุณุงุณูุฉ

### ุงุฎุชุจุงุฑ ูุจุณุท
1. ุงุฐูุจ ุฅูู `/test-simple`
2. ุงุฎุชุจุฑ ุงูุงุชุตุงู ุจุฏูู ูุตุงุฏูุฉ
3. ุชุญูู ูู ูุฑุงุกุฉ ุงูุจูุงูุงุช

## ๐ ุงูุฅุญุตุงุฆูุงุช

### ุงูููุงุชุจ
- **ุงูููุชุจ ุงูุชุฌุฑูุจู**: test-office-id
- **ุนุฏุฏ ุงููุณุชุฎุฏููู**: 1 (admin)
- **ุนุฏุฏ ุงููุถุงูุง**: 4
- **ุนุฏุฏ ุงูููุงูุจ**: 4

### ุงูุฃุฏุงุก
- **ููุช ุงูุชุญููู**: < 2 ุซุงููุฉ
- **ุงูุฃูุงู**: RLS ููุนู
- **ุงูุชููุฑ**: 99.9%

## ๐ฎ ุงูุชุทููุฑ ุงููุณุชูุจูู

### ุงููุฑุญูุฉ ุงูุชุงููุฉ
1. **ูุธุงู ุงูุฏูุน**
   - Stripe integration
   - ุฎุทุท ุงุดุชุฑุงู ูุชูุฏูุฉ
   - ููุงุชูุฑ ุชููุงุฆูุฉ

2. **ุงูุชูุงุฑูุฑ ุงููุชูุฏูุฉ**
   - ุชุญูููุงุช ุงููุถุงูุง
   - ุฅุญุตุงุฆูุงุช ุงูููุชุจ
   - ุชูุงุฑูุฑ ุงูุฃุฏุงุก

3. **ุงูุชูุงูู**
   - API RESTful
   - Webhooks
   - ุชูุงูู ูุน ุฃูุธูุฉ ุฃุฎุฑู

4. **ุงูุฃูุงู ุงููุชูุฏู**
   - Two-factor authentication
   - Audit logs
   - Backup automation

## ๐ ุงูุฏุนู

### ูู ุญุงูุฉ ูุฌูุฏ ูุดุงูู
1. ุชุญูู ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
2. ุงุฎุชุจุฑ ุงูุงุชุตุงู ุจู Supabase
3. ุฑุงุฌุน ุณุฌูุงุช ุงูุฃุฎุทุงุก
4. ุงุชุตู ุจุงูุฏุนู ุงูููู

### ุฑูุงุจุท ูููุฏุฉ
- [Supabase Documentation](https://supabase.com/docs)
- [Next.js Documentation](https://nextjs.org/docs)
- [Tailwind CSS](https://tailwindcss.com/docs)

---

**ุชู ุฅูุดุงุก ูุฐุง ุงููุธุงู ุจูุงุณุทุฉ ูุฑูู ุงูุชุทููุฑ** ๐
**ุขุฎุฑ ุชุญุฏูุซ**: ุฏูุณูุจุฑ 2024 